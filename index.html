<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canvas</title>
    <style>
          body {background-color: rgb(0, 0, 0);}
      body {
        margin: 0;
        overflow: hidden;
      }
    </style>
  </head>
  <body>
    <canvas class="myCanvas">
      <p>Add suitable fallback here.</p>
    </canvas>

    <script>

      const canvas = document.querySelector('.myCanvas');
      const width = canvas.width = window.innerWidth;
      const height = canvas.height = window.innerHeight;
      const ctx = canvas.getContext('2d');

      ctx.fillStyle = 'rgb(0,0,0)';

      function degToRad(degrees) {
        return degrees * Math.PI / 180;
      };

      function drawfireworks(clr,x,y,size,erase){

        ctx.fillStyle = clr;
        if (erase){
          ctx.fillStyle = clr;
        }
        ctx.lineWidth = 1;
        ctx.beginPath();
        ctx.moveTo(x,y);
        
        let angle = 0;
        while (angle < 360){
          ctx.lineTo(size * Math.sin(degToRad(angle))+x,size * Math.cos(degToRad(angle))+y);
          ctx.moveTo(x,y);
          angle += 10;

        }

        ctx.strokeStyle = clr;
        if (erase){
          ctx.strokeStyle = 'rgb(0,0,0)';
        }
        ctx.stroke();
      }
      
      
      function drawfireline(red,green,blue,x,y,overridecolor){
        ctx.lineWidth = 5;
        ctx.beginPath();
        ctx.moveTo(x,y+30);
        ctx.lineTo(x,y)
        if (!overridecolor){
          let red = parseInt()
          console.log(red,green,blue);
          ctx.strokeStyle = 'rgb(' + Math.floor((400-y)*255/200) + ', ' + Math.floor((400-y)*green/200) + ', ' + Math.floor((400-y)*blue/200) + ')';
        } else {
          ctx.strokeStyle = 'rgb(0, 0, 0)';
        }


        ctx.stroke();
        ctx.lineWidth = 1;
      }

      function animatefirework(x,y,startingdelay,plusby,firecolor,red,green,blue){

        console.log('from the first function:',red,green,blue);
        ctx.lineWidth = 5;
        ctx.beginPath();
        ctx.moveTo(x,400);
        setTimeout(() => { drawfireline(red,green,blue,x,398,false); }, startingdelay+25*1/plusby,'rgb(252,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,398,false); }, startingdelay+25*1/plusby,'rgb(252,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,398,false); }, startingdelay+25*1/plusby,'rgb(252,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,397,false); }, startingdelay+25*1/plusby,'rgb(252,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,397,false); }, startingdelay+25*1/plusby,'rgb(251,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,397,false); }, startingdelay+25*2/plusby,'rgb(251,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,396,false); }, startingdelay+25*2/plusby,'rgb(250,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,396,false); }, startingdelay+25*2/plusby,'rgb(250,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,396,false); }, startingdelay+25*2/plusby,'rgb(250,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,395,false); }, startingdelay+25*2/plusby,'rgb(249,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,395,false); }, startingdelay+25*3/plusby,'rgb(248,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,394,false); }, startingdelay+25*3/plusby,'rgb(248,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,394,false); }, startingdelay+25*3/plusby,'rgb(247,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,393,false); }, startingdelay+25*3/plusby,'rgb(246,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,392,false); }, startingdelay+25*4/plusby,'rgb(245,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,392,false); }, startingdelay+25*4/plusby,'rgb(244,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,391,false); }, startingdelay+25*5/plusby,'rgb(243,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,390,false); }, startingdelay+25*5/plusby,'rgb(242,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,389,false); }, startingdelay+25*6/plusby,'rgb(241,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,388,false); }, startingdelay+25*6/plusby,'rgb(239,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,387,false); }, startingdelay+25*7/plusby,'rgb(238,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,385,false); }, startingdelay+25*7/plusby,'rgb(236,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,384,false); }, startingdelay+25*8/plusby,'rgb(234,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,382,false); }, startingdelay+25*9/plusby,'rgb(232,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,380,false); }, startingdelay+25*10/plusby,'rgb(230,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,378,false); }, startingdelay+25*11/plusby,'rgb(227,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,376,false); }, startingdelay+25*12/plusby,'rgb(225,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,374,false); }, startingdelay+25*13/plusby,'rgb(222,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,371,false); }, startingdelay+25*14/plusby,'rgb(218,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,368,false); }, startingdelay+25*16/plusby,'rgb(215,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,365,false); }, startingdelay+25*17/plusby,'rgb(211,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,362,false); }, startingdelay+25*19/plusby,'rgb(206,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,358,false); }, startingdelay+25*21/plusby,'rgb(201,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,354,false); }, startingdelay+25*23/plusby,'rgb(196,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,349,false); }, startingdelay+25*26/plusby,'rgb(190,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,344,false); }, startingdelay+25*28/plusby,'rgb(183,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,338,false); }, startingdelay+25*31/plusby,'rgb(176,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,332,false); }, startingdelay+25*34/plusby,'rgb(168,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,325,false); }, startingdelay+25*37/plusby,'rgb(160,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,318,false); }, startingdelay+25*41/plusby,'rgb(150,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,309,false); }, startingdelay+25*45/plusby,'rgb(140,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,300,false); }, startingdelay+25*50/plusby,'rgb(128,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,290,false); }, startingdelay+25*55/plusby,'rgb(115,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,280,false); }, startingdelay+25*60/plusby,'rgb(101,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,267,false); }, startingdelay+25*66/plusby,'rgb(86,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,260,false); }, startingdelay+25*70/plusby,'rgb(8,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,254,false); }, startingdelay+25*73/plusby,'rgb(69,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,246,false); }, startingdelay+25*77/plusby,'rgb(8,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,240,false); }, startingdelay+25*80/plusby,'rgb(51,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,232,false); }, startingdelay+25*84/plusby,'rgb(8,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,224,false); }, startingdelay+25*88/plusby,'rgb(30,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,218,false); }, startingdelay+25*94/plusby,'rgb(8,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,206,false); }, startingdelay+25*97/plusby,'rgb(8,0,0)');
        
        startingdelay = startingdelay+25*97/plusby+100;

        setTimeout(() => { drawfireline(red,green,blue,x,398,'npe'); }, startingdelay+25*1/plusby,'rgb(252,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,398,'npe'); }, startingdelay+25*1/plusby,'rgb(252,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,398,'npe'); }, startingdelay+25*1/plusby,'rgb(252,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,397,'npe'); }, startingdelay+25*1/plusby,'rgb(252,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,397,'npe'); }, startingdelay+25*1/plusby,'rgb(251,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,397,'npe'); }, startingdelay+25*2/plusby,'rgb(251,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,396,'npe'); }, startingdelay+25*2/plusby,'rgb(250,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,396,'npe'); }, startingdelay+25*2/plusby,'rgb(250,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,396,'npe'); }, startingdelay+25*2/plusby,'rgb(250,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,395,'npe'); }, startingdelay+25*2/plusby,'rgb(249,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,395,'npe'); }, startingdelay+25*3/plusby,'rgb(248,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,394,'npe'); }, startingdelay+25*3/plusby,'rgb(248,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,394,'npe'); }, startingdelay+25*3/plusby,'rgb(247,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,393,'npe'); }, startingdelay+25*3/plusby,'rgb(246,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,392,'npe'); }, startingdelay+25*4/plusby,'rgb(245,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,392,'npe'); }, startingdelay+25*4/plusby,'rgb(244,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,391,'npe'); }, startingdelay+25*5/plusby,'rgb(243,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,390,'npe'); }, startingdelay+25*5/plusby,'rgb(242,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,389,'npe'); }, startingdelay+25*6/plusby,'rgb(241,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,388,'npe'); }, startingdelay+25*6/plusby,'rgb(239,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,387,'npe'); }, startingdelay+25*7/plusby,'rgb(238,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,385,'npe'); }, startingdelay+25*7/plusby,'rgb(236,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,384,'npe'); }, startingdelay+25*8/plusby,'rgb(234,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,382,'npe'); }, startingdelay+25*9/plusby,'rgb(232,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,380,'npe'); }, startingdelay+25*10/plusby,'rgb(230,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,378,'npe'); }, startingdelay+25*11/plusby,'rgb(227,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,376,'npe'); }, startingdelay+25*12/plusby,'rgb(225,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,374,'npe'); }, startingdelay+25*13/plusby,'rgb(222,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,371,'npe'); }, startingdelay+25*14/plusby,'rgb(218,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,368,'npe'); }, startingdelay+25*16/plusby,'rgb(215,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,365,'npe'); }, startingdelay+25*17/plusby,'rgb(211,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,362,'npe'); }, startingdelay+25*19/plusby,'rgb(206,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,358,'npe'); }, startingdelay+25*21/plusby,'rgb(201,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,354,'npe'); }, startingdelay+25*23/plusby,'rgb(196,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,349,'npe'); }, startingdelay+25*26/plusby,'rgb(190,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,344,'npe'); }, startingdelay+25*28/plusby,'rgb(183,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,338,'npe'); }, startingdelay+25*31/plusby,'rgb(176,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,332,'npe'); }, startingdelay+25*34/plusby,'rgb(168,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,325,'npe'); }, startingdelay+25*37/plusby,'rgb(160,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,318,'npe'); }, startingdelay+25*41/plusby,'rgb(150,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,309,'npe'); }, startingdelay+25*45/plusby,'rgb(140,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,300,'npe'); }, startingdelay+25*50/plusby,'rgb(128,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,290,'npe'); }, startingdelay+25*55/plusby,'rgb(115,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,280,'npe'); }, startingdelay+25*60/plusby,'rgb(101,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,267,'npe'); }, startingdelay+25*66/plusby,'rgb(86,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,260,'npe'); }, startingdelay+25*70/plusby,'rgb(8,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,254,'npe'); }, startingdelay+25*73/plusby,'rgb(69,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,246,'npe'); }, startingdelay+25*77/plusby,'rgb(8,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,240,'npe'); }, startingdelay+25*80/plusby,'rgb(51,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,232,'npe'); }, startingdelay+25*84/plusby,'rgb(8,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,224,'npe'); }, startingdelay+25*88/plusby,'rgb(30,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,218,'npe'); }, startingdelay+25*94/plusby,'rgb(8,0,0)');
        setTimeout(() => { drawfireline(red,green,blue,x,206,'npe'); }, startingdelay+25*97/plusby,'rgb(8,0,0)');


        setTimeout(() => { drawfireworks(firecolor,x,y,1*plusby,false); }, startingdelay+100*1/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,2*plusby,false); }, startingdelay+100*2/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,3*plusby,false); }, startingdelay+100*3/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,4*plusby,false); }, startingdelay+100*4/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,5*plusby,false); }, startingdelay+100*5/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,6*plusby,false); }, startingdelay+100*6/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,7*plusby,false); }, startingdelay+100*7/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,8*plusby,false); }, startingdelay+100*8/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,9*plusby,false); }, startingdelay+100*9/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,10*plusby,false); }, startingdelay+100*10/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,11*plusby,false); }, startingdelay+100*11/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,12*plusby,false); }, startingdelay+100*12/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,13*plusby,false); }, startingdelay+100*13/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,14*plusby,false); }, startingdelay+100*14/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,15*plusby,false); }, startingdelay+100*15/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,16*plusby,false); }, startingdelay+100*16/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,17*plusby,false); }, startingdelay+100*17/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,18*plusby,false); }, startingdelay+100*18/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,19*plusby,false); }, startingdelay+100*19/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,20*plusby,false); }, startingdelay+100*20/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,21*plusby,false); }, startingdelay+100*21/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,22*plusby,false); }, startingdelay+100*22/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,23*plusby,false); }, startingdelay+100*23/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,24*plusby,false); }, startingdelay+100*24/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,25*plusby,false); }, startingdelay+100*25/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,26*plusby,false); }, startingdelay+100*26/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,27*plusby,false); }, startingdelay+100*27/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,28*plusby,false); }, startingdelay+100*28/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,29*plusby,false); }, startingdelay+100*29/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,30*plusby,false); }, startingdelay+100*30/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,31*plusby,false); }, startingdelay+100*31/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,32*plusby,false); }, startingdelay+100*32/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,33*plusby,false); }, startingdelay+100*33/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,34*plusby,false); }, startingdelay+100*34/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,35*plusby,false); }, startingdelay+100*35/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,36*plusby,false); }, startingdelay+100*36/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,37*plusby,false); }, startingdelay+100*37/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,38*plusby,false); }, startingdelay+100*38/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,39*plusby,false); }, startingdelay+100*39/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,40*plusby,false); }, startingdelay+100*40/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,41*plusby,false); }, startingdelay+100*41/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,42*plusby,false); }, startingdelay+100*42/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,43*plusby,false); }, startingdelay+100*43/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,44*plusby,false); }, startingdelay+100*44/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,45*plusby,false); }, startingdelay+100*45/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,46*plusby,false); }, startingdelay+100*46/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,47*plusby,false); }, startingdelay+100*47/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,48*plusby,false); }, startingdelay+100*48/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,49*plusby,false); }, startingdelay+100*49/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,50*plusby,false); }, startingdelay+100*50/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,51*plusby,false); }, startingdelay+100*51/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,52*plusby,false); }, startingdelay+100*52/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,53*plusby,false); }, startingdelay+100*53/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,54*plusby,false); }, startingdelay+100*54/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,55*plusby,false); }, startingdelay+100*55/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,56*plusby,false); }, startingdelay+100*56/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,57*plusby,false); }, startingdelay+100*57/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,58*plusby,false); }, startingdelay+100*58/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,59*plusby,false); }, startingdelay+100*59/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,60*plusby,false); }, startingdelay+100*60/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,61*plusby,false); }, startingdelay+100*61/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,62*plusby,false); }, startingdelay+100*62/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,63*plusby,false); }, startingdelay+100*63/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,64*plusby,false); }, startingdelay+100*64/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,65*plusby,false); }, startingdelay+100*65/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,66*plusby,false); }, startingdelay+100*66/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,67*plusby,false); }, startingdelay+100*67/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,68*plusby,false); }, startingdelay+100*68/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,69*plusby,false); }, startingdelay+100*69/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,70*plusby,false); }, startingdelay+100*70/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,71*plusby,false); }, startingdelay+100*71/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,72*plusby,false); }, startingdelay+100*72/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,73*plusby,false); }, startingdelay+100*73/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,74*plusby,false); }, startingdelay+100*74/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,75*plusby,false); }, startingdelay+100*75/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,76*plusby,false); }, startingdelay+100*76/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,77*plusby,false); }, startingdelay+100*77/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,78*plusby,false); }, startingdelay+100*78/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,79*plusby,false); }, startingdelay+100*79/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,80*plusby,false); }, startingdelay+100*80/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,81*plusby,false); }, startingdelay+100*81/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,82*plusby,false); }, startingdelay+100*82/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,83*plusby,false); }, startingdelay+100*83/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,84*plusby,false); }, startingdelay+100*84/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,85*plusby,false); }, startingdelay+100*85/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,86*plusby,false); }, startingdelay+100*86/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,87*plusby,false); }, startingdelay+100*87/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,88*plusby,false); }, startingdelay+100*88/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,89*plusby,false); }, startingdelay+100*89/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,90*plusby,false); }, startingdelay+100*90/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,91*plusby,false); }, startingdelay+100*91/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,92*plusby,false); }, startingdelay+100*92/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,93*plusby,false); }, startingdelay+100*93/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,94*plusby,false); }, startingdelay+100*94/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,95*plusby,false); }, startingdelay+100*95/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,96*plusby,false); }, startingdelay+100*96/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,97*plusby,false); }, startingdelay+100*97/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,98*plusby,false); }, startingdelay+100*98/plusby);
        
        startingdelay += startingdelay+100*98/plusby-100;

        setTimeout(() => { drawfireworks(firecolor,x,y,1*plusby,true); }, startingdelay+100*1/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,2*plusby,true); }, startingdelay+100*2/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,3*plusby,true); }, startingdelay+100*3/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,4*plusby,true); }, startingdelay+100*4/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,5*plusby,true); }, startingdelay+100*5/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,6*plusby,true); }, startingdelay+100*6/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,7*plusby,true); }, startingdelay+100*7/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,8*plusby,true); }, startingdelay+100*8/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,9*plusby,true); }, startingdelay+100*9/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,10*plusby,true); }, startingdelay+100*10/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,11*plusby,true); }, startingdelay+100*11/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,12*plusby,true); }, startingdelay+100*12/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,13*plusby,true); }, startingdelay+100*13/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,14*plusby,true); }, startingdelay+100*14/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,15*plusby,true); }, startingdelay+100*15/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,16*plusby,true); }, startingdelay+100*16/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,17*plusby,true); }, startingdelay+100*17/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,18*plusby,true); }, startingdelay+100*18/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,19*plusby,true); }, startingdelay+100*19/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,20*plusby,true); }, startingdelay+100*20/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,21*plusby,true); }, startingdelay+100*21/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,22*plusby,true); }, startingdelay+100*22/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,23*plusby,true); }, startingdelay+100*23/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,24*plusby,true); }, startingdelay+100*24/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,25*plusby,true); }, startingdelay+100*25/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,26*plusby,true); }, startingdelay+100*26/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,27*plusby,true); }, startingdelay+100*27/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,28*plusby,true); }, startingdelay+100*28/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,29*plusby,true); }, startingdelay+100*29/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,30*plusby,true); }, startingdelay+100*30/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,31*plusby,true); }, startingdelay+100*31/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,32*plusby,true); }, startingdelay+100*32/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,33*plusby,true); }, startingdelay+100*33/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,34*plusby,true); }, startingdelay+100*34/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,35*plusby,true); }, startingdelay+100*35/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,36*plusby,true); }, startingdelay+100*36/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,37*plusby,true); }, startingdelay+100*37/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,38*plusby,true); }, startingdelay+100*38/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,39*plusby,true); }, startingdelay+100*39/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,40*plusby,true); }, startingdelay+100*40/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,41*plusby,true); }, startingdelay+100*41/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,42*plusby,true); }, startingdelay+100*42/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,43*plusby,true); }, startingdelay+100*43/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,44*plusby,true); }, startingdelay+100*44/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,45*plusby,true); }, startingdelay+100*45/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,46*plusby,true); }, startingdelay+100*46/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,47*plusby,true); }, startingdelay+100*47/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,48*plusby,true); }, startingdelay+100*48/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,49*plusby,true); }, startingdelay+100*49/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,50*plusby,true); }, startingdelay+100*50/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,51*plusby,true); }, startingdelay+100*51/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,52*plusby,true); }, startingdelay+100*52/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,53*plusby,true); }, startingdelay+100*53/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,54*plusby,true); }, startingdelay+100*54/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,55*plusby,true); }, startingdelay+100*55/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,56*plusby,true); }, startingdelay+100*56/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,57*plusby,true); }, startingdelay+100*57/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,58*plusby,true); }, startingdelay+100*58/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,59*plusby,true); }, startingdelay+100*59/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,60*plusby,true); }, startingdelay+100*60/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,61*plusby,true); }, startingdelay+100*61/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,62*plusby,true); }, startingdelay+100*62/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,63*plusby,true); }, startingdelay+100*63/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,64*plusby,true); }, startingdelay+100*64/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,65*plusby,true); }, startingdelay+100*65/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,66*plusby,true); }, startingdelay+100*66/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,67*plusby,true); }, startingdelay+100*67/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,68*plusby,true); }, startingdelay+100*68/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,69*plusby,true); }, startingdelay+100*69/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,70*plusby,true); }, startingdelay+100*70/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,71*plusby,true); }, startingdelay+100*71/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,72*plusby,true); }, startingdelay+100*72/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,73*plusby,true); }, startingdelay+100*73/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,74*plusby,true); }, startingdelay+100*74/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,75*plusby,true); }, startingdelay+100*75/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,76*plusby,true); }, startingdelay+100*76/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,77*plusby,true); }, startingdelay+100*77/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,78*plusby,true); }, startingdelay+100*78/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,79*plusby,true); }, startingdelay+100*79/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,80*plusby,true); }, startingdelay+100*80/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,81*plusby,true); }, startingdelay+100*81/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,82*plusby,true); }, startingdelay+100*82/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,83*plusby,true); }, startingdelay+100*83/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,84*plusby,true); }, startingdelay+100*84/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,85*plusby,true); }, startingdelay+100*85/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,86*plusby,true); }, startingdelay+100*86/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,87*plusby,true); }, startingdelay+100*87/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,88*plusby,true); }, startingdelay+100*88/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,89*plusby,true); }, startingdelay+100*89/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,90*plusby,true); }, startingdelay+100*90/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,91*plusby,true); }, startingdelay+100*91/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,92*plusby,true); }, startingdelay+100*92/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,93*plusby,true); }, startingdelay+100*93/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,94*plusby,true); }, startingdelay+100*94/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,95*plusby,true); }, startingdelay+100*95/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,96*plusby,true); }, startingdelay+100*96/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,97*plusby,true); }, startingdelay+100*97/plusby);
        setTimeout(() => { drawfireworks(firecolor,x,y,98*plusby,true); }, startingdelay+100*98/plusby);
      }

      let red;
      let green;
      let blue;
      let size;
      let x;
      let y;

      function randomfirework(){
        red = Math.floor(Math.random()*175+80);
        green = Math.floor(Math.random()*175+80);
        blue = Math.floor(Math.random()*175+80);
        size = (Math.random()*2+2.5);
        x = (Math.random()*700+50);
        y = (Math.random()*300+100);
        animatefirework(x,200,0,size,('rgb('+red+', '+green+', '+blue+')'),red,green,blue);
      }

      delaytime = 2500;

      setTimeout(() => { randomfirework();}, 0);
      setTimeout(() => { randomfirework();}, 100);
      setTimeout(() => { randomfirework();}, 200);
      setTimeout(() => { randomfirework();}, delaytime*2);
      setTimeout(() => { randomfirework();}, delaytime*2.5);
      setTimeout(() => { randomfirework();}, delaytime*3);
      setTimeout(() => { randomfirework();}, delaytime*4);
      setTimeout(() => { randomfirework();}, delaytime*5);
      setTimeout(() => { randomfirework();}, delaytime*6);
      setTimeout(() => { randomfirework();}, delaytime*7);
      setTimeout(() => { randomfirework();}, delaytime*8);
      setTimeout(() => { randomfirework();}, delaytime*9);
      setTimeout(() => { randomfirework();}, delaytime*10);
      setTimeout(() => { randomfirework();}, delaytime*11);
      setTimeout(() => { randomfirework();}, delaytime*12);
      setTimeout(() => { randomfirework();}, delaytime*13);
      setTimeout(() => { randomfirework();}, delaytime*14);
      setTimeout(() => { randomfirework();}, delaytime*15);
      setTimeout(() => { window.location.reload();}, delaytime*17);

      let o = 0;
      while (false){
        if (o % 1000 == 0){
          red = Math.floor(Math.random()*175+80);
          green = Math.floor(Math.random()*175+80);
          blue = Math.floor(Math.random()*175+80);
          size = (Math.random()*2+2.5);
          x = (Math.random()*100+50);
          y = (Math.random()*300+100);
          animatefirework(x,200,0,size,('rgb('+red+', '+green+', '+blue+')'),red,green,blue);
          o += 1;
        }
      }

      console.log('rgb('+red+', '+green+', '+blue+')');
    </script>
  </body>
</html>