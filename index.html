<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canvas</title>
    <style>
          body {background-color: rgb(0, 0, 0);}
      body {
        margin: 0;
        overflow: hidden;
      }
    </style>
  </head>
  <body>
    <canvas class="myCanvas">
      <p>Add suitable fallback here.</p>
    </canvas>

    <script>

      const canvas = document.querySelector('.myCanvas');
      const width = canvas.width = window.innerWidth;
      const height = canvas.height = window.innerHeight;
      const ctx = canvas.getContext('2d');

      ctx.fillStyle = 'rgb(0,0,0)';

      function degToRad(degrees) {
        return degrees * Math.PI / 180;
      };

      function donothing(){
      }

      function drawfireworks(x,y,size,erase) {
        ctx.fillStyle = 'rgb(255,0,0)';
        if (erase){
          ctx.fillStyle = 'rgb(0,0,0)';
        }
        ctx.lineWidth = 1;
        ctx.beginPath();
        ctx.moveTo(x,y);
        
        let angle = 0;
        while (angle < 360){
          ctx.lineTo(size * Math.sin(degToRad(angle))+x,size * Math.cos(degToRad(angle))+y);
          ctx.moveTo(x,y);
          angle += 10;

        }

        ctx.strokeStyle = 'rgb(255,0,0)';
        ctx.stroke();
      };
      
      function drawfireline(x,y,strokecolor){
        ctx.lineWidth = 5;
        ctx.beginPath();
        ctx.moveTo(x,y+20);
        ctx.lineTo(x,y)
        ctx.strokeStyle = 'rgb(' + Math.floor((400-y)*255/(400-y)) + ', 0, 0)';
        ctx.stroke();
        ctx.lineWidth = 1;
      }

      function animatefirework(x,y,startingdelay,plusby){
        ctx.lineWidth = 5;
        ctx.beginPath();
        ctx.moveTo(x,400);
        setTimeout(() => { drawfireline(x,398); }, startingdelay+25*1/plusby,'rgb(252,0,0)');
        setTimeout(() => { drawfireline(x,398); }, startingdelay+25*1/plusby,'rgb(252,0,0)');
        setTimeout(() => { drawfireline(x,398); }, startingdelay+25*1/plusby,'rgb(252,0,0)');
        setTimeout(() => { drawfireline(x,397); }, startingdelay+25*1/plusby,'rgb(252,0,0)');
        setTimeout(() => { drawfireline(x,397); }, startingdelay+25*1/plusby,'rgb(251,0,0)');
        setTimeout(() => { drawfireline(x,397); }, startingdelay+25*2/plusby,'rgb(251,0,0)');
        setTimeout(() => { drawfireline(x,396); }, startingdelay+25*2/plusby,'rgb(250,0,0)');
        setTimeout(() => { drawfireline(x,396); }, startingdelay+25*2/plusby,'rgb(250,0,0)');
        setTimeout(() => { drawfireline(x,396); }, startingdelay+25*2/plusby,'rgb(250,0,0)');
        setTimeout(() => { drawfireline(x,395); }, startingdelay+25*2/plusby,'rgb(249,0,0)');
        setTimeout(() => { drawfireline(x,395); }, startingdelay+25*3/plusby,'rgb(248,0,0)');
        setTimeout(() => { drawfireline(x,394); }, startingdelay+25*3/plusby,'rgb(248,0,0)');
        setTimeout(() => { drawfireline(x,394); }, startingdelay+25*3/plusby,'rgb(247,0,0)');
        setTimeout(() => { drawfireline(x,393); }, startingdelay+25*3/plusby,'rgb(246,0,0)');
        setTimeout(() => { drawfireline(x,392); }, startingdelay+25*4/plusby,'rgb(245,0,0)');
        setTimeout(() => { drawfireline(x,392); }, startingdelay+25*4/plusby,'rgb(244,0,0)');
        setTimeout(() => { drawfireline(x,391); }, startingdelay+25*5/plusby,'rgb(243,0,0)');
        setTimeout(() => { drawfireline(x,390); }, startingdelay+25*5/plusby,'rgb(242,0,0)');
        setTimeout(() => { drawfireline(x,389); }, startingdelay+25*6/plusby,'rgb(241,0,0)');
        setTimeout(() => { drawfireline(x,388); }, startingdelay+25*6/plusby,'rgb(239,0,0)');
        setTimeout(() => { drawfireline(x,387); }, startingdelay+25*7/plusby,'rgb(238,0,0)');
        setTimeout(() => { drawfireline(x,385); }, startingdelay+25*7/plusby,'rgb(236,0,0)');
        setTimeout(() => { drawfireline(x,384); }, startingdelay+25*8/plusby,'rgb(234,0,0)');
        setTimeout(() => { drawfireline(x,382); }, startingdelay+25*9/plusby,'rgb(232,0,0)');
        setTimeout(() => { drawfireline(x,380); }, startingdelay+25*10/plusby,'rgb(230,0,0)');
        setTimeout(() => { drawfireline(x,378); }, startingdelay+25*11/plusby,'rgb(227,0,0)');
        setTimeout(() => { drawfireline(x,376); }, startingdelay+25*12/plusby,'rgb(225,0,0)');
        setTimeout(() => { drawfireline(x,374); }, startingdelay+25*13/plusby,'rgb(222,0,0)');
        setTimeout(() => { drawfireline(x,371); }, startingdelay+25*14/plusby,'rgb(218,0,0)');
        setTimeout(() => { drawfireline(x,368); }, startingdelay+25*16/plusby,'rgb(215,0,0)');
        setTimeout(() => { drawfireline(x,365); }, startingdelay+25*17/plusby,'rgb(211,0,0)');
        setTimeout(() => { drawfireline(x,362); }, startingdelay+25*19/plusby,'rgb(206,0,0)');
        setTimeout(() => { drawfireline(x,358); }, startingdelay+25*21/plusby,'rgb(201,0,0)');
        setTimeout(() => { drawfireline(x,354); }, startingdelay+25*23/plusby,'rgb(196,0,0)');
        setTimeout(() => { drawfireline(x,349); }, startingdelay+25*26/plusby,'rgb(190,0,0)');
        setTimeout(() => { drawfireline(x,344); }, startingdelay+25*28/plusby,'rgb(183,0,0)');
        setTimeout(() => { drawfireline(x,338); }, startingdelay+25*31/plusby,'rgb(176,0,0)');
        setTimeout(() => { drawfireline(x,332); }, startingdelay+25*34/plusby,'rgb(168,0,0)');
        setTimeout(() => { drawfireline(x,325); }, startingdelay+25*37/plusby,'rgb(160,0,0)');
        setTimeout(() => { drawfireline(x,318); }, startingdelay+25*41/plusby,'rgb(150,0,0)');
        setTimeout(() => { drawfireline(x,309); }, startingdelay+25*45/plusby,'rgb(140,0,0)');
        setTimeout(() => { drawfireline(x,300); }, startingdelay+25*50/plusby,'rgb(128,0,0)');
        setTimeout(() => { drawfireline(x,290); }, startingdelay+25*55/plusby,'rgb(115,0,0)');
        setTimeout(() => { drawfireline(x,280); }, startingdelay+25*60/plusby,'rgb(101,0,0)');
        setTimeout(() => { drawfireline(x,267); }, startingdelay+25*66/plusby,'rgb(86,0,0)');
        setTimeout(() => { drawfireline(x,254); }, startingdelay+25*73/plusby,'rgb(69,0,0)');
        setTimeout(() => { drawfireline(x,240); }, startingdelay+25*80/plusby,'rgb(51,0,0)');
        setTimeout(() => { drawfireline(x,224); }, startingdelay+25*88/plusby,'rgb(30,0,0)');
        setTimeout(() => { drawfireline(x,206); }, startingdelay+25*97/plusby,'rgb(8,0,0)');
        
        startingdelay = startingdelay+25*97/plusby;

        setTimeout(() => { drawfireline(x,370); }, startingdelay+100*6/plusby,'rgb(204,0,0)');
        setTimeout(() => { drawfireline(x,340); }, startingdelay+100*20/plusby,'rgb(153,0,0)');
        setTimeout(() => { drawfireline(x,310); }, startingdelay+100*37/plusby,'rgb(102,0,0)');
        setTimeout(() => { drawfireline(x,280); }, startingdelay+100*50/plusby,'rgb(51,0,0)');
        setTimeout(() => { drawfireline(x,250); }, startingdelay+100*75/plusby,'rgb(25,0,0)');
        setTimeout(() => { drawfireline(x,220); }, startingdelay+100*75/plusby,'rgb(0,0,0)');
        setTimeout(() => { drawfireline(x,y,1*plusby,false); }, startingdelay+100*52/plusby);

        setTimeout(() => { drawfireworks(x,y,1*plusby,false); }, startingdelay+100*1/plusby);
        setTimeout(() => { drawfireworks(x,y,11*plusby,false); }, startingdelay+100*11/plusby);
        setTimeout(() => { drawfireworks(x,y,20*plusby,false); }, startingdelay+100*20/plusby);
        setTimeout(() => { drawfireworks(x,y,28*plusby,false); }, startingdelay+100*28/plusby);
        setTimeout(() => { drawfireworks(x,y,35*plusby,false); }, startingdelay+100*35/plusby);
        setTimeout(() => { drawfireworks(x,y,42*plusby,false); }, startingdelay+100*42/plusby);
        setTimeout(() => { drawfireworks(x,y,47*plusby,false); }, startingdelay+100*47/plusby);
        setTimeout(() => { drawfireworks(x,y,53*plusby,false); }, startingdelay+100*53/plusby);
        setTimeout(() => { drawfireworks(x,y,57*plusby,false); }, startingdelay+100*57/plusby);
        setTimeout(() => { drawfireworks(x,y,62*plusby,false); }, startingdelay+100*62/plusby);
        setTimeout(() => { drawfireworks(x,y,65*plusby,false); }, startingdelay+100*65/plusby);
        setTimeout(() => { drawfireworks(x,y,69*plusby,false); }, startingdelay+100*69/plusby);
        setTimeout(() => { drawfireworks(x,y,72*plusby,false); }, startingdelay+100*72/plusby);
        setTimeout(() => { drawfireworks(x,y,75*plusby,false); }, startingdelay+100*75/plusby);
        setTimeout(() => { drawfireworks(x,y,77*plusby,false); }, startingdelay+100*77/plusby);
        setTimeout(() => { drawfireworks(x,y,80*plusby,false); }, startingdelay+100*80/plusby);
        setTimeout(() => { drawfireworks(x,y,82*plusby,false); }, startingdelay+100*82/plusby);
        setTimeout(() => { drawfireworks(x,y,83*plusby,false); }, startingdelay+100*83/plusby);
        setTimeout(() => { drawfireworks(x,y,85*plusby,false); }, startingdelay+100*85/plusby);
        setTimeout(() => { drawfireworks(x,y,87*plusby,false); }, startingdelay+100*87/plusby);
        setTimeout(() => { drawfireworks(x,y,88*plusby,false); }, startingdelay+100*88/plusby);
        setTimeout(() => { drawfireworks(x,y,89*plusby,false); }, startingdelay+100*89/plusby);
        setTimeout(() => { drawfireworks(x,y,90*plusby,false); }, startingdelay+100*90/plusby);
        setTimeout(() => { drawfireworks(x,y,91*plusby,false); }, startingdelay+100*91/plusby);
        setTimeout(() => { drawfireworks(x,y,92*plusby,false); }, startingdelay+100*92/plusby);
        setTimeout(() => { drawfireworks(x,y,93*plusby,false); }, startingdelay+100*93/plusby);
        setTimeout(() => { drawfireworks(x,y,94*plusby,false); }, startingdelay+100*94/plusby);
        setTimeout(() => { drawfireworks(x,y,94*plusby,false); }, startingdelay+100*94/plusby);
        setTimeout(() => { drawfireworks(x,y,95*plusby,false); }, startingdelay+100*95/plusby);
        setTimeout(() => { drawfireworks(x,y,95*plusby,false); }, startingdelay+100*95/plusby);
        setTimeout(() => { drawfireworks(x,y,96*plusby,false); }, startingdelay+100*96/plusby);
        setTimeout(() => { drawfireworks(x,y,96*plusby,false); }, startingdelay+100*96/plusby);
        setTimeout(() => { drawfireworks(x,y,97*plusby,false); }, startingdelay+100*97/plusby);
        setTimeout(() => { drawfireworks(x,y,97*plusby,false); }, startingdelay+100*97/plusby);
        setTimeout(() => { drawfireworks(x,y,97*plusby,false); }, startingdelay+100*97/plusby);
        setTimeout(() => { drawfireworks(x,y,98*plusby,false); }, startingdelay+100*98/plusby);
        setTimeout(() => { drawfireworks(x,y,98*plusby,false); }, startingdelay+100*98/plusby);
        setTimeout(() => { drawfireworks(x,y,98*plusby,false); }, startingdelay+100*98/plusby);
        setTimeout(() => { drawfireworks(x,y,98*plusby,false); }, startingdelay+100*98/plusby);
        setTimeout(() => { drawfireworks(x,y,98*plusby,false); }, startingdelay+100*98/plusby);
        setTimeout(() => { drawfireworks(x,y,99*plusby,false); }, startingdelay+100*99/plusby);
        setTimeout(() => { drawfireworks(x,y,99*plusby,false); }, startingdelay+100*99/plusby);
        setTimeout(() => { drawfireworks(x,y,99*plusby,false); }, startingdelay+100*99/plusby);
        setTimeout(() => { drawfireworks(x,y,99*plusby,false); }, startingdelay+100*99/plusby);

      }

      ctx.lineWidth = 5;

      let f = 400;
      while (f > 100 && false){
        setTimeout(() => { drawfireworks(x,y,1*plusby); }, startingdelay+100*1/plusby);
      }

      ctx.lineWidth = 1;

      animatefirework(100,200,0,0.5);
      animatefirework(300,200,0,1);
      animatefirework(500,200,0,1.5);
      animatefirework(700,200,0,2);

    </script>
  </body>
</html>